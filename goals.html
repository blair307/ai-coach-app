<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Goals - Entrepreneur Emotional Health</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation (keep your existing sidebar) -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>EEH</h2>
                <button class="sidebar-toggle" aria-label="Toggle navigation menu">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
            <ul class="sidebar-menu">
                <li><a href="dashboard.html" class="menu-item">Dashboard</a></li>
                <li><a href="ai-coach.html" class="menu-item">AI Coach</a></li>
                <li><a href="community.html" class="menu-item">Community</a></li>
                <li><a href="goals.html" class="menu-item active">Goals</a></li>
                <li><a href="billing.html" class="menu-item">Billing</a></li>
                <li><a href="#" class="menu-item" onclick="logout()">Logout</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="content-header">
                <h1>Life Goals</h1>
                <div class="header-actions">
                    <!-- Notification Icon -->
                    <div class="notification-icon-container" onclick="goToNotifications()">
                        <div class="notification-bell">
                           <svg class="bell-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 20px; height: 20px;"> 
                               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/> 
                           </svg>
                            <span class="notification-count" id="headerNotificationCount" style="display: none;">0</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Goals Hero Section -->
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 3rem 2rem; text-align: center; margin: -2rem -2rem 3rem -2rem; border-radius: 0 0 16px 16px;">
                <h1 style="font-size: 2.5rem; margin-bottom: 1rem; font-weight: 800;">Transform Your Life</h1>
                <p style="font-size: 1.2rem; opacity: 0.9; max-width: 600px; margin: 0 auto;">Set meaningful goals across all areas of your life and track your daily progress toward becoming your best self.</p>
            </div>

            <!-- Life Areas Grid -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-bottom: 3rem;" id="lifeAreasGrid">
                
                <!-- Mind Card -->
                <div class="life-area-card" data-area="mind" onclick="openGoalWizard('mind')" style="background: var(--background); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.4s ease; border: 2px solid transparent; min-height: 200px; display: flex; flex-direction: column; text-align: center; position: relative; border-top: 6px solid #8b5cf6;">
                    <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; color: #8b5cf6;">Mind</h3>
                    <p style="color: var(--text-secondary); line-height: 1.5; margin-bottom: 1rem; flex: 1;">Mental clarity, learning, mindfulness, and intellectual growth</p>
                    <div style="display: flex; justify-content: space-between; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #8b5cf6; display: block;" id="mind-goals">0</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Goals</small>
                        </div>
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #8b5cf6; display: block;" id="mind-progress">0%</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Progress</small>
                        </div>
                    </div>
                </div>

                <!-- Spirit Card -->
                <div class="life-area-card" data-area="spirit" onclick="openGoalWizard('spirit')" style="background: var(--background); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.4s ease; border: 2px solid transparent; min-height: 200px; display: flex; flex-direction: column; text-align: center; position: relative; border-top: 6px solid #06b6d4;">
                    <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; color: #06b6d4;">Spirit</h3>
                    <p style="color: var(--text-secondary); line-height: 1.5; margin-bottom: 1rem; flex: 1;">Purpose, values, inner peace, and spiritual connection</p>
                    <div style="display: flex; justify-content: space-between; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #06b6d4; display: block;" id="spirit-goals">0</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Goals</small>
                        </div>
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #06b6d4; display: block;" id="spirit-progress">0%</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Progress</small>
                        </div>
                    </div>
                </div>

                <!-- Body Card -->
                <div class="life-area-card" data-area="body" onclick="openGoalWizard('body')" style="background: var(--background); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.4s ease; border: 2px solid transparent; min-height: 200px; display: flex; flex-direction: column; text-align: center; position: relative; border-top: 6px solid #10b981;">
                    <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; color: #10b981;">Body</h3>
                    <p style="color: var(--text-secondary); line-height: 1.5; margin-bottom: 1rem; flex: 1;">Health, fitness, nutrition, and physical well-being</p>
                    <div style="display: flex; justify-content: space-between; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #10b981; display: block;" id="body-goals">0</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Goals</small>
                        </div>
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #10b981; display: block;" id="body-progress">0%</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Progress</small>
                        </div>
                    </div>
                </div>

                <!-- Work Card -->
                <div class="life-area-card" data-area="work" onclick="openGoalWizard('work')" style="background: var(--background); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.4s ease; border: 2px solid transparent; min-height: 200px; display: flex; flex-direction: column; text-align: center; position: relative; border-top: 6px solid #f59e0b;">
                    <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; color: #f59e0b;">Work</h3>
                    <p style="color: var(--text-secondary); line-height: 1.5; margin-bottom: 1rem; flex: 1;">Career growth, business goals, and professional development</p>
                    <div style="display: flex; justify-content: space-between; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #f59e0b; display: block;" id="work-goals">0</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Goals</small>
                        </div>
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #f59e0b; display: block;" id="work-progress">0%</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Progress</small>
                        </div>
                    </div>
                </div>

                <!-- Relationships Card -->
                <div class="life-area-card" data-area="relationships" onclick="openGoalWizard('relationships')" style="background: var(--background); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.4s ease; border: 2px solid transparent; min-height: 200px; display: flex; flex-direction: column; text-align: center; position: relative; border-top: 6px solid #ec4899;">
                    <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; color: #ec4899;">Relationships</h3>
                    <p style="color: var(--text-secondary); line-height: 1.5; margin-bottom: 1rem; flex: 1;">Family, friends, romantic relationships, and social connections</p>
                    <div style="display: flex; justify-content: space-between; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #ec4899; display: block;" id="relationships-goals">0</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Goals</small>
                        </div>
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #ec4899; display: block;" id="relationships-progress">0%</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Progress</small>
                        </div>
                    </div>
                </div>

                <!-- Fun Card -->
                <div class="life-area-card" data-area="fun" onclick="openGoalWizard('fun')" style="background: var(--background); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.4s ease; border: 2px solid transparent; min-height: 200px; display: flex; flex-direction: column; text-align: center; position: relative; border-top: 6px solid #f97316;">
                    <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; color: #f97316;">Fun</h3>
                    <p style="color: var(--text-secondary); line-height: 1.5; margin-bottom: 1rem; flex: 1;">Hobbies, recreation, adventure, and life enjoyment</p>
                    <div style="display: flex; justify-content: space-between; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #f97316; display: block;" id="fun-goals">0</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Goals</small>
                        </div>
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #f97316; display: block;" id="fun-progress">0%</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Progress</small>
                        </div>
                    </div>
                </div>

                <!-- Finances Card -->
                <div class="life-area-card" data-area="finances" onclick="openGoalWizard('finances')" style="background: var(--background); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.4s ease; border: 2px solid transparent; min-height: 200px; display: flex; flex-direction: column; text-align: center; position: relative; border-top: 6px solid #059669;">
                    <h3 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; color: #059669;">Finances</h3>
                    <p style="color: var(--text-secondary); line-height: 1.5; margin-bottom: 1rem; flex: 1;">Money management, savings, investments, and financial freedom</p>
                    <div style="display: flex; justify-content: space-between; padding-top: 1rem; border-top: 1px solid var(--border);">
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #059669; display: block;" id="finances-goals">0</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Goals</small>
                        </div>
                        <div style="text-align: center; flex: 1;">
                            <span style="font-size: 1.2rem; font-weight: 800; color: #059669; display: block;" id="finances-progress">0%</span>
                            <small style="font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase;">Progress</small>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Goals Overview Section -->
            <div style="background: var(--background); border-radius: 16px; padding: 2rem; box-shadow: var(--shadow-sm); border: 1px solid var(--border);">
                <h2 style="margin-bottom: 1.5rem; color: var(--text-primary);">Your Goals Overview</h2>
                <div id="goalsOverview">
                    <p style="text-align: center; color: var(--text-muted); padding: 2rem;">Click on any life area above to start setting your first goals!</p>
                </div>
            </div>

        </main>
    </div>

    <!-- Basic Scripts -->
    <script src="sidebar-toggle.js"></script>
    <script>
        // Simple placeholder function for now
        function openGoalWizard(area) {
            alert(`Goal wizard for ${area} coming soon! We'll guide you through setting meaningful goals in this area.`);
        }

        function goToNotifications() {
            window.location.href = 'notifications.html';
        }

        function logout() {
            localStorage.clear();
            window.location.href = 'index.html';
        }

        // Simple notification counter
        async function updateNotificationCount() {
            try {
                const token = localStorage.getItem('authToken') || localStorage.getItem('eeh_token');
                if (!token) return;
                
                const response = await fetch('https://ai-coach-backend-pbse.onrender.com/api/notifications/unread-count', {
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const count = data.count || 0;
                    const countElement = document.getElementById('headerNotificationCount');
                    
                    if (countElement) {
                        countElement.textContent = count;
                        countElement.setAttribute('data-count', count);
                        countElement.style.display = count > 0 ? 'flex' : 'none';
                    }
                }
            } catch (error) {
                console.error('Error fetching notification count:', error);
            }
        }

        // Update count when page loads
        document.addEventListener('DOMContentLoaded', function() {
            updateNotificationCount();
            setInterval(updateNotificationCount, 30000);
        });
    </script>
</body>
</html>
